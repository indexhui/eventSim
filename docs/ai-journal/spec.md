# 對話式遊戲模擬器規格書

## 專案概述

這是一個基於數值模擬的對話式遊戲，玩家通過選擇不同選項來影響角色屬性，體驗不同的人生路徑。

## 核心系統

### 1. 玩家屬性系統 (PlayerStats)

#### 基礎數值

- **心情** (0-100): 當前情緒狀態，影響其他屬性的表現
- **儲蓄** (0-∞): 金錢資源，影響可選擇的選項
- **體力** (0-100): 精力狀態，影響活動能力

#### 人格特質 (0-24 範圍)

- **專注力**: 影響學習和工作效率
- **時間感**: 影響時間管理和規劃能力
- **社交傾向**: 影響人際互動和社交選擇
- **決斷力**: 影響決策速度和領導能力
- **好奇心**: 影響探索新事物的意願
- **同理心**: 影響對他人情感的理解
- **穩定性**: 影響情緒波動和抗壓能力

### 2. 人格標籤系統

每個人格特質都有對應的標籤描述，根據數值範圍顯示不同的人格傾向：

```json
{
  "專注力": {
    "-10~-4": "心不在焉",
    "-3~-1": "略分心",
    "0": "中等",
    "1~3": "專注傾向",
    "4~10": "極度專注"
  }
}
```

### 3. 事件系統

#### 事件結構

```json
{
  "事件ID": "EVT001",
  "事件名稱": "便利商店耳機男",
  "事件描述": "排隊時前面的男生戴著耳機，結帳叫了他好幾次都沒反應。",
  "選項A": {
    "文字": "拍拍他提醒一下。",
    "數值變化": {
      "心情": -2,
      "體力": -1,
      "決斷力": 1,
      "同理心": 1
    }
  },
  "選項B": {
    "文字": "默默等店員自己處理。",
    "數值變化": {
      "心情": -1,
      "體力": 0,
      "穩定性": 1
    }
  }
}
```

#### 事件觸發機制

- 基於時間進度觸發
- 根據當前屬性值決定可用選項
- 某些選項可能需要特定條件（如儲蓄、體力門檻）

## 技術實現

### 前端架構

- **Next.js 15** + **TypeScript**
- **Chakra UI v3** 作為 UI 框架
- **Framer Motion** 處理動畫效果
- **React Context** 或 **Zustand** 管理遊戲狀態

### 核心元件設計

#### 1. 遊戲狀態管理

```typescript
interface GameState {
  playerStats: PlayerStats;
  currentEvent: Event | null;
  eventHistory: EventResult[];
  gameProgress: number;
  personalityLabels: PersonalityLabels;
}
```

#### 2. 對話介面元件

- **EventDisplay**: 顯示當前事件
- **ChoiceButtons**: 選項按鈕
- **StatsDisplay**: 屬性面板
- **PersonalityPanel**: 人格特質展示

#### 3. 數值計算系統

- 屬性變化計算
- 人格標籤更新
- 條件檢查邏輯

### 資料結構

#### PlayerStats 介面

```typescript
interface PlayerStats {
  心情: number;
  儲蓄: number;
  體力: number;
  專注力: number;
  時間感: number;
  社交傾向: number;
  決斷力: number;
  好奇心: number;
  同理心: number;
  穩定性: number;
}
```

#### Event 介面

```typescript
interface Event {
  id: string;
  name: string;
  description: string;
  options: {
    [key: string]: {
      text: string;
      statChanges: Partial<PlayerStats>;
      conditions?: EventCondition[];
    };
  };
}
```

## 遊戲流程

1. **初始化**: 載入初始屬性值和事件資料
2. **事件觸發**: 根據進度或條件觸發事件
3. **選項展示**: 顯示可用選項（考慮條件限制）
4. **玩家選擇**: 玩家做出選擇
5. **數值更新**: 計算並更新屬性值
6. **結果反饋**: 顯示選擇結果和屬性變化
7. **進度推進**: 進入下一個事件或結束遊戲

## 擴展功能

### 1. 分支劇情

- 基於歷史選擇影響後續事件
- 多條故事線並行發展

### 2. 成就系統

- 特定屬性組合解鎖成就
- 特殊選擇記錄

### 3. 統計分析

- 選擇傾向分析
- 人格發展軌跡圖表

### 4. 存檔系統

- 遊戲進度保存
- 多個存檔點管理

## 開發優先級

### Phase 1: 核心系統

1. 基礎屬性系統
2. 簡單事件觸發
3. 基本對話介面

### Phase 2: 進階功能

1. 人格標籤系統
2. 條件檢查機制
3. 事件歷史記錄

### Phase 3: 優化體驗

1. 動畫效果
2. 音效和視覺反饋
3. 響應式設計

### Phase 4: 擴展內容

1. 更多事件內容
2. 分支劇情系統
3. 成就和統計功能
