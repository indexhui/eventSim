# 事件規劃文檔

## 事件架構概述

我們建立了一個完整的事件管理系統，包含以下特點：

### 📁 檔案結構

```
src/data/events/
├── index.ts              # 事件資料入口和介面定義
├── event-manager.ts      # 事件管理器
├── daily-life.ts         # 日常生活事件
├── work.ts              # 工作相關事件
├── social.ts            # 社交相關事件
├── shopping.ts          # 購物相關事件
└── health.ts            # 健康相關事件
```

### 🏷️ 事件分類

- **日常生活** (daily-life): 日常瑣事、生活情境
- **工作** (work): 職場相關、同事互動
- **社交** (social): 朋友、陌生人互動
- **購物** (shopping): 消費、金錢相關
- **健康** (health): 身體健康、運動

### 📊 難度等級

- **簡單** (easy): 影響較小，選擇相對安全
- **中等** (medium): 有一定風險和回報
- **困難** (hard): 高風險高回報，需要謹慎考慮

## 事件設計原則

### 1. 平衡性設計

- 每個選項都有正面和負面影響
- 避免「完美選項」或「陷阱選項」
- 根據玩家當前狀態調整選項的吸引力

### 2. 條件限制

- 儲蓄不足時隱藏需要花錢的選項
- 體力不足時限制高體力消耗的選項
- 心情低落時提供更多正面選項

### 3. 後果描述

- 每個選項都有具體的後果描述
- 幫助玩家理解選擇的影響
- 增加遊戲的沉浸感

## 目前事件清單

### 日常生活事件 (3 個)

1. **便利商店耳機男** - 社交禮儀選擇
2. **電梯裡的尷尬** - 陌生人互動
3. **路邊的流浪貓** - 同理心與金錢

### 工作事件 (3 個)

1. **同事的生日派對** - 社交與休息的權衡
2. **緊急加班** - 工作與生活的平衡
3. **會議上的發言** - 領導與穩定的選擇

### 社交事件 (3 個)

1. **朋友的求助** - 友情與金錢的考驗
2. **陌生人的搭訕** - 好奇心與安全感的平衡
3. **同學聚會邀請** - 回憶與現狀的選擇

### 購物事件 (3 個)

1. **限時特價商品** - 慾望與理性的對抗
2. **街頭推銷員** - 同理心與決斷力
3. **慈善募款** - 同理心與金錢

### 健康事件 (3 個)

1. **感冒症狀** - 健康與金錢的選擇
2. **健身房邀請** - 健康、社交與金錢
3. **失眠困擾** - 健康與生活習慣

## 如何添加新事件

### 1. 選擇類別檔案

根據事件主題選擇對應的檔案：

- 日常生活 → `daily-life.ts`
- 工作相關 → `work.ts`
- 社交互動 → `social.ts`
- 購物消費 → `shopping.ts`
- 健康相關 → `health.ts`

### 2. 事件結構範例

```typescript
{
  id: 'EVTXXX',
  name: '事件名稱',
  description: '事件描述',
  category: EVENT_CATEGORIES.XXX,
  difficulty: EVENT_DIFFICULTY.XXX,
  tags: ['標籤1', '標籤2'],
  options: {
    A: {
      text: '選項A文字',
      statChanges: {
        心情: 2,
        體力: -1,
        儲蓄: -100,
      },
      conditions: [
        { stat: '儲蓄', operator: 'gte', value: 100 }
      ],
      consequences: ['選擇後的具體後果描述'],
    },
    B: {
      text: '選項B文字',
      statChanges: {
        心情: -1,
        穩定性: 1,
      },
      consequences: ['選擇後的具體後果描述'],
    },
  },
}
```

### 3. 數值變化建議

- **心情**: -5 到 +5 範圍
- **體力**: -10 到 +10 範圍
- **儲蓄**: -1000 到 +1000 範圍
- **人格特質**: -3 到 +3 範圍

### 4. 條件設計

- 使用 `conditions` 限制選項可用性
- 常見條件：儲蓄門檻、體力要求
- 支援運算符：gte, lte, eq, gt, lt

## 事件觸發機制

### 1. 進度觸發

- 可以設定事件在特定進度出現
- 支援最小和最大進度限制

### 2. 屬性觸發

- 根據玩家屬性決定事件可用性
- 可以要求或排除特定屬性值

### 3. 隨機觸發

- 從可用事件中隨機選擇
- 確保遊戲的不可預測性

## 未來擴展計劃

### 1. 分支劇情

- 根據歷史選擇影響後續事件
- 建立事件之間的因果關係

### 2. 時間系統

- 加入時間段概念（早上、下午、晚上）
- 不同時間段觸發不同類型事件

### 3. 天氣系統

- 天氣影響事件觸發和選項
- 增加環境因素

### 4. 成就系統

- 特定選擇組合解鎖成就
- 獎勵特殊事件或屬性加成

## 測試建議

### 1. 平衡性測試

- 測試不同屬性組合下的遊戲體驗
- 確保沒有過於優化或劣化的路徑

### 2. 條件測試

- 測試各種條件限制的運作
- 確保選項正確顯示/隱藏

### 3. 數值測試

- 測試極端數值下的遊戲表現
- 確保休息機制正常運作

---

**最後更新**: 2024-12-19  
**總事件數**: 15 個  
**下一步**: 整合到遊戲系統中
